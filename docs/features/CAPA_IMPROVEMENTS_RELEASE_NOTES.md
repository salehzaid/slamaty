# CAPA Improvements v1.1 - Release Notes

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุทูุงู ุฅุตุฏุงุฑ ูุญุณู ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุฎุทุท ุงูุชุตุญูุญูุฉ (CAPA) ูุน ููุฒุงุช ูุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ุงูุฎุทุท ุงูุชุตุญูุญูุฉ ุจุดูู ุดุงูู ูุขูู.

## ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ
**ุงูุฅุตุฏุงุฑ:** v1.1  
**ุงูุชุงุฑูุฎ:** 27 ููุงูุฑ 2025  
**ููุน ุงูุฅุตุฏุงุฑ:** Major Feature Release

---

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุชุญุณููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุญููู ุฌุฏูุฏุฉ ููุฎุทุท ุงูุชุตุญูุญูุฉ:**
  - `root_cause`: ุชุญููู ุงูุณุจุจ ุงูุฌุฐุฑู
  - `corrective_actions`: ุงูุฅุฌุฑุงุกุงุช ุงูุชุตุญูุญูุฉ (JSONB)
  - `preventive_actions`: ุงูุฅุฌุฑุงุกุงุช ุงูููุงุฆูุฉ (JSONB)
  - `verification_steps`: ุฎุทูุงุช ุงูุชุญูู (JSONB)
  - `verification_status`: ุญุงูุฉ ุงูุชุญูู (pending, in_review, verified, rejected)
  - `severity`: ูุณุชูู ุงูุฎุทูุฑุฉ (1-5)
  - `estimated_cost`: ุงูุชูููุฉ ุงููุชููุนุฉ
  - `status_history`: ุณุฌู ุงูุชุบููุฑุงุช (JSONB)
  - `sla_days`: ูููุฉ ุงูุญู ุจุงูุฃูุงู
  - `escalation_level`: ูุณุชูู ุงูุชุตุนูุฏ
  - `closed_at`: ุชุงุฑูุฎ ุงูุฅุบูุงู
  - `verified_at`: ุชุงุฑูุฎ ุงูุชุญูู

- **ููุงุฑุณ ูุญุณูุฉ:**
  - ููุฑุณ ูุฑูุจ ุนูู (department, verification_status, severity)
  - ููุงุฑุณ GIN ููุญููู JSONB ูุชุญุณูู ุงูุฃุฏุงุก
  - ููุงุฑุณ ุนูู escalation_level ู closed_at

### 2. ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุงููุญุณูุฉ
- **Endpoints ุฌุฏูุฏุฉ:**
  - `POST /api/capas` - ุฅูุดุงุก ุฎุทุฉ ุชุตุญูุญูุฉ ูุญุณูุฉ
  - `GET /api/capas/{id}` - ุฌูุจ ุฎุทุฉ ูุญุฏุฏุฉ ูุน ุฌููุน ุงูุชูุงุตูู
  - `GET /api/capas` - ูุงุฆูุฉ ุงูุฎุทุท ูุน ููุงุชุฑ ูุชูุฏูุฉ
  - `GET /api/capas/dashboard/stats` - ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู

- **ููุฒุงุช API:**
  - ุฏุนู ุงูุญููู ุงูุฌุฏูุฏุฉ ูู ุฅูุดุงุก ูุชุญุฏูุซ ุงูุฎุทุท
  - ููุงุชุฑ ูุชูุฏูุฉ (ุงููุณูุ ุงูุญุงูุฉุ ูุณุชูู ุงูุฎุทูุฑุฉุ ุญุงูุฉ ุงูุชุญูู)
  - ุชุญูู ูู ุงูุตูุงุญูุงุช ุงููุญุณู
  - ุณุฌู ุชุฏููู ุชููุงุฆู

### 3. ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุณูุฉ
- **ููููุงุช React ุฌุฏูุฏุฉ:**
  - `EnhancedCapaForm`: ูููุฐุฌ ุฅูุดุงุก/ุชุนุฏูู ูุญุณู
  - `CapaDashboard`: ููุญุฉ ุชุญูู ุดุงููุฉ
  - `EnhancedCapaManagement`: ุตูุญุฉ ุฅุฏุงุฑุฉ ูุชูุฏูุฉ

- **ููุฒุงุช ุงููุงุฌูุฉ:**
  - ุฅุฏุงุฑุฉ ุฏููุงููููุฉ ููุฅุฌุฑุงุกุงุช ุงูุชุตุญูุญูุฉ ูุงูููุงุฆูุฉ
  - ุฎุทูุงุช ุชุญูู ูุงุจูุฉ ููุชุฎุตูุต
  - ูุคุดุฑุงุช ุจุตุฑูุฉ ููุณุชูู ุงูุฎุทูุฑุฉ ูุงูุชูุฏู
  - ููุงุชุฑ ูุจุญุซ ูุชูุฏู
  - ุฑุณูู ุจูุงููุฉ ููุฅุญุตุงุฆูุงุช

### 4. ุงูุฃุชูุชุฉ ูุงูุฌุฏููุฉ
- **CAPA Scheduler:**
  - ูุญุต ูููู ููุฎุทุท ุงููุชุฃุฎุฑุฉ
  - ุชุตุนูุฏ ุชููุงุฆู ููุฎุทุท ุงููุชุฃุฎุฑุฉ
  - ุฅุฑุณุงู ุชุฐููุฑุงุช ููุชุญูู
  - ุฅูุดุงุก ุชููุงุฆู ููุฎุทุท ูู ูุชุงุฆุฌ ุงูุชูููู ุบูุฑ ุงููุทุงุจูุฉ

- **Cron Jobs:**
  - ูููุฉ ููููุฉ ูู ุงูุณุงุนุฉ 9:00 ุตุจุงุญุงู
  - ุฅููุงููุฉ ุชุฎุตูุต ุงูุชูููุช ุญุณุจ ุงูุญุงุฌุฉ
  - ุณุฌูุงุช ููุตูุฉ ููุนูููุงุช

### 5. ูุธุงู ุงูุชุญูู ุงููุญุณู
- **ุฎุทูุงุช ุงูุชุญูู:**
  - ุฎุทูุงุช ุฅูุฒุงููุฉ ูุงุฎุชูุงุฑูุฉ
  - ุชุชุจุน ุญุงูุฉ ุฅูุฌุงุฒ ูู ุฎุทูุฉ
  - ููุงุญุธุงุช ูุชูุงุฑูุฎ ุงูุฅูุฌุงุฒ
  - ุชุญูู ูู ุฅุชูุงู ุฌููุน ุงูุฎุทูุงุช ุงูุฅูุฒุงููุฉ

- **ุญุงูุงุช ุงูุชุญูู:**
  - `pending`: ูู ุงูุชุธุงุฑ ุงููุฑุงุฌุนุฉ
  - `in_review`: ููุฏ ุงููุฑุงุฌุนุฉ
  - `verified`: ุชู ุงูุชุญูู
  - `rejected`: ูุฑููุถ

### 6. ูุธุงู ุงูุชุตุนูุฏ
- **ูุณุชููุงุช ุงูุชุตุนูุฏ:**
  - ุชุตุนูุฏ ุชููุงุฆู ููุฎุทุท ุงููุชุฃุฎุฑุฉ
  - ุฅุดุนุงุฑุงุช ูููุฏูุฑูู ูุงููุณุคูููู
  - ุชุชุจุน ูุณุชูู ุงูุชุตุนูุฏ ููู ุฎุทุฉ

- **ุงูุฅุดุนุงุฑุงุช:**
  - ุฅุดุนุงุฑุงุช ููุฑูุฉ ููุชุตุนูุฏ
  - ุชุฐููุฑุงุช ูุจู ุงูุชูุงุก ุงููููุฉ
  - ุฅุดุนุงุฑุงุช ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู

---

## ๐ง ุงูุชุญุณููุงุช ุงูุชูููุฉ

### Backend
- **ููุงุฐุฌ ุงูุจูุงูุงุช ุงููุญุณูุฉ:**
  - ุฏุนู ุงูุญููู JSONB ุงูุฌุฏูุฏุฉ
  - ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุญุณู
  - ุนูุงูุงุช ูุญุณูุฉ ุจูู ุงูุฌุฏุงูู

- **ุงูุฃุฏุงุก:**
  - ููุงุฑุณ ูุญุณูุฉ ููุงุณุชุนูุงูุงุช ุงูุณุฑูุนุฉ
  - ุงุณุชุนูุงูุงุช ูุญุณูุฉ ููุชูุงุฑูุฑ
  - ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ููุฅุญุตุงุฆูุงุช

### Frontend
- **ููููุงุช ูุญุณูุฉ:**
  - ุงุณุชุฎุฏุงู React Hook Form ูุน Zod ููุชุญูู
  - ููููุงุช UI ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
  - ุฏุนู RTL ูุงูู

- **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:**
  - ูุงุฌูุฉ ุจุฏูููุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
  - ูุคุดุฑุงุช ุจุตุฑูุฉ ูุงุถุญุฉ
  - ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ ููุชูุงุนู

---

## ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

### ููุญุฉ ุงูุชุญูู
- **ุฅุญุตุงุฆูุงุช ุดุงููุฉ:**
  - ุฅุฌูุงูู ุงูุฎุทุท ุงูุชุตุญูุญูุฉ
  - ุชูุฒูุน ุญุณุจ ุงูุญุงูุฉ ููุณุชูู ุงูุฎุทูุฑุฉ
  - ุงูุฎุทุท ุงููุชุฃุฎุฑุฉ ูุงููุชุตุงุนุฏุฉ
  - ูุชูุณุท ูุณุชูู ุงูุฎุทูุฑุฉ

- **ุงูุฑุณูู ุงูุจูุงููุฉ:**
  - ูุฎุทุท ุฏุงุฆุฑู ูุชูุฒูุน ูุณุชูู ุงูุฎุทูุฑุฉ
  - ูุฎุทุท ุฃุนูุฏุฉ ูุชูุฒูุน ุงูุญุงูุงุช
  - ูุคุดุฑุงุช ุงูุชูุฏู ููู ุฎุทุฉ

### ุงูุชูุงุฑูุฑ
- **ุชูุงุฑูุฑ ูุงุจูุฉ ููุชุตุฏูุฑ:**
  - ุชูุงุฑูุฑ PDF ููุฎุทุท ุงูุชุตุญูุญูุฉ
  - ุชูุงุฑูุฑ Excel ููุฅุญุตุงุฆูุงุช
  - ุชูุงุฑูุฑ ูุฎุตุตุฉ ุญุณุจ ุงูููุงุชุฑ

---

## ๐๏ธ ุงูุชุซุจูุช ูุงูุชุฑููุฉ

### ูุชุทูุจุงุช ุงููุธุงู
- **Backend:**
  - Python 3.8+
  - PostgreSQL 12+
  - FastAPI 0.100+

- **Frontend:**
  - Node.js 16+
  - React 18+
  - TypeScript 4.9+

### ุฎุทูุงุช ุงูุชุฑููุฉ
1. **ูุณุฎ ุงุญุชูุงุทู ููุจูุงูุงุช:**
   ```bash
   pg_dump salamaty_db > backup_before_capa_v1.1.sql
   ```

2. **ุชุทุจูู Migration:**
   ```bash
   cd backend
   psql -h localhost -U postgres -d salamaty_db -f add_capa_improvements.sql
   ```

3. **ุชุญุฏูุซ ุงูููุฏ:**
   ```bash
   git checkout feat/capa-improvements
   npm install
   cd backend && pip install -r requirements.txt
   ```

4. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุงุช:**
   ```bash
   # Backend
   cd backend && python main.py
   
   # Frontend
   npm run dev
   ```

5. **ุฅุนุฏุงุฏ Cron Job:**
   ```bash
   chmod +x backend/cron_capa_scheduler.py
   crontab backend/crontab_capa_scheduler
   ```

### ุงูุชุญูู ูู ุงูุชุซุจูุช
- ุชุญูู ูู ูุฌูุฏ ุงูุญููู ุงูุฌุฏูุฏุฉ ูู ุฌุฏูู `capas`
- ุงุฎุชุจุฑ ุฅูุดุงุก ุฎุทุฉ ุชุตุญูุญูุฉ ุฌุฏูุฏุฉ
- ุชุญูู ูู ุนูู Cron Job
- ุงุฎุชุจุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### ุงุฎุชุจุงุฑุงุช Backend
- **ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ:**
  - ุงุฎุชุจุงุฑุงุช ููุงุฐุฌ ุงูุจูุงูุงุช
  - ุงุฎุชุจุงุฑุงุช API endpoints
  - ุงุฎุชุจุงุฑุงุช ููุทู ุงูุฃุนูุงู

- **ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู:**
  - ุงุฎุชุจุงุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
  - ุงุฎุชุจุงุฑุงุช ุงููุธุงู ุงููุงูู
  - ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก

### ุงุฎุชุจุงุฑุงุช Frontend
- **ุงุฎุชุจุงุฑุงุช ุงูููููุงุช:**
  - ุงุฎุชุจุงุฑุงุช React Testing Library
  - ุงุฎุชุจุงุฑุงุช ุงูุชูุงุนู
  - ุงุฎุชุจุงุฑุงุช ุงููุตูููุฉ

- **ุงุฎุชุจุงุฑุงุช E2E:**
  - ุงุฎุชุจุงุฑุงุช ุณูุฑ ุงูุนูู ุงููุงูู
  - ุงุฎุชุจุงุฑุงุช ุงููุชุตูุญุงุช ุงููุฎุชููุฉ

---

## ๐ ุงูุฃูุงู

### ุชุญุณููุงุช ุงูุฃูุงู
- **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:**
  - ุชุญูู ูุญุณู ูู ุฃุฏูุงุฑ ุงููุณุชุฎุฏููู
  - ุญูุงูุฉ endpoints ุงูุญุณุงุณุฉ
  - ุชุณุฌูู ุฌููุน ุงูุนูููุงุช

- **ุญูุงูุฉ ุงูุจูุงูุงุช:**
  - ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
  - ุญูุงูุฉ ูู SQL Injection
  - ุญูุงูุฉ ูู XSS

### ุงูุชุฏููู
- **ุณุฌู ุงูุชุฏููู:**
  - ุชุณุฌูู ุฌููุน ุงูุนูููุงุช
  - ุชุชุจุน ุงูุชุบููุฑุงุช
  - ุชูุงุฑูุฑ ุงูุฃูุงู

---

## ๐ ุงูุฃุฏุงุก

### ุชุญุณููุงุช ุงูุฃุฏุงุก
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
  - ููุงุฑุณ ูุญุณูุฉ
  - ุงุณุชุนูุงูุงุช ูุญุณูุฉ
  - ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช

- **Frontend:**
  - ุชุญููู ูุณูู ููููููุงุช
  - ุชุญุณูู ุงูุตูุฑ
  - ุถุบุท ุงููููุงุช

### ุงููุฑุงูุจุฉ
- **ูุฑุงูุจุฉ ุงูุฃุฏุงุก:**
  - ูุฑุงูุจุฉ ุงุณุชุฌุงุจุฉ API
  - ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  - ูุฑุงูุจุฉ ุฃุฎุทุงุก ุงููุธุงู

---

## ๐ ุฅุตูุงุญ ุงูุฃุฎุทุงุก

### ุฃุฎุทุงุก ุชู ุฅุตูุงุญูุง
- ุฅุตูุงุญ ูุดููุฉ ูู ุชุญุฏูุซ ุญุงูุฉ ุงูุฎุทุท ุงูุชุตุญูุญูุฉ
- ุฅุตูุงุญ ูุดููุฉ ูู ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
- ุฅุตูุงุญ ูุดููุฉ ูู ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ

### ุชุญุณููุงุช ุงูุงุณุชูุฑุงุฑ
- ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุชุญุณูู ุงุณุชูุฑุงุฑ ุงููุธุงู
- ุชุญุณูู ุงูุฃุฏุงุก ุงูุนุงู

---

## ๐ ุงููุซุงุฆู

### ูุซุงุฆู ุงููุทูุฑ
- **API Documentation:**
  - Swagger UI ูุญุณู
  - ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู
  - ุฏููู ุงูุชูุงูู

- **ุฏููู ุงููุทูุฑ:**
  - ุฏููู ุฅุนุฏุงุฏ ุงูุจูุฆุฉ
  - ุฏููู ุงููุณุงููุฉ
  - ุฏููู ุงูุงุฎุชุจุงุฑุงุช

### ูุซุงุฆู ุงููุณุชุฎุฏู
- **ุฏููู ุงููุณุชุฎุฏู:**
  - ุฏููู ุงุณุชุฎุฏุงู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ
  - ููุฏูููุงุช ุชุนููููุฉ
  - ุฃุณุฆูุฉ ุดุงุฆุนุฉ

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ุงูููุฒุงุช ุงููุฎุทุทุฉ
- **v1.2:**
  - ุชูุงุฑูุฑ ูุชูุฏูุฉ
  - ุชูุงูู ูุน ุฃูุธูุฉ ุฎุงุฑุฌูุฉ
  - ุชุทุจูู ุฌูุงู

- **v1.3:**
  - ุฐูุงุก ุงุตุทูุงุนู ููุชุญููู
  - ุชููุนุงุช ุงููุฎุงุทุฑ
  - ุชุญุณููุงุช ุงูุฃุฏุงุก

### ุฌุฏูู ุงูุชุทููุฑ
- **Q1 2025:** v1.2
- **Q2 2025:** v1.3
- **Q3 2025:** v2.0

---

## ๐ ุงูุฏุนู

### ูุนูููุงุช ุงูุฏุนู
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** support@salamaty.com
- **ุงููุงุชู:** +966-XX-XXX-XXXX
- **ุณุงุนุงุช ุงูุนูู:** ุงูุฃุญุฏ - ุงูุฎููุณุ 8:00 ุต - 5:00 ู

### ุงูููุงุฑุฏ
- **ุงููุซุงุฆู:** https://docs.salamaty.com
- **ุงููุฌุชูุน:** https://community.salamaty.com
- **GitHub:** https://github.com/salamaty/capa-improvements

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

ูุดูุฑ ุฌููุน ุงููุณุงูููู ูุงููุทูุฑูู ุงูุฐูู ุณุงูููุง ูู ุชุทููุฑ ูุฐุง ุงูุฅุตุฏุงุฑ ุงููุญุณู ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุฎุทุท ุงูุชุตุญูุญูุฉ.

---

**ููุงุญุธุฉ:** ูุฑุฌู ูุฑุงุกุฉ ุฏููู ุงูุชุฑููุฉ ุจุนูุงูุฉ ูุจู ุชุทุจูู ูุฐุง ุงูุฅุตุฏุงุฑ ุนูู ุจูุฆุฉ ุงูุฅูุชุงุฌ.
