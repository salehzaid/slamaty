# ุชุญุฏูุซ ูุฏุฉ ุตูุงุญูุฉ ุงูุฌูุณุฉ (Session Timeout Update)

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ โ

ุชู ุชุนุฏูู ุงููุธุงู ูุฌุนู ุงูุฌูุณุฉ ุชูุชูู ุจุนุฏ **60 ุฏูููุฉ** ุจุฏูุงู ูู 15 ุฏูููุฉ.

### 1. ุงููููุงุช ุงููุนุฏูุฉ

#### `backend/auth.py`
- โ ุชู ุฅุถุงูุฉ `import os` ูููุฑุงุกุฉ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- โ ุชู ุชุญุฏูุซ `ACCESS_TOKEN_EXPIRE_MINUTES` ูููุฑุฃ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ (ุงูุชุฑุงุถู 60 ุฏูููุฉ)
- โ ุชู ุชุนุฏูู ุฏุงูุฉ `create_access_token` ูุงุณุชุฎุฏุงู ุงููููุฉ ูู `ACCESS_TOKEN_EXPIRE_MINUTES` ุจุฏูุงู ูู ุงููููุฉ ุงูุซุงุจุชุฉ 15

```python
# ุงูุณุทุฑ 11: ุฅุถุงูุฉ
import os

# ุงูุณุทุฑ 14-16: ุชุญุฏูุซ
SECRET_KEY = os.getenv("SECRET_KEY", "your-super-secret-key-here-change-in-production")
ALGORITHM = os.getenv("ALGORITHM", "HS256")
ACCESS_TOKEN_EXPIRE_MINUTES = int(os.getenv("ACCESS_TOKEN_EXPIRE_MINUTES", "60"))

# ุงูุณุทุฑ 76: ุชุญุฏูุซ ูู create_access_token
expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)
```

#### `backend/env.production`
- โ ุชู ุชุญุฏูุซ `ACCESS_TOKEN_EXPIRE_MINUTES` ูู 30 ุฅูู 60

```ini
ACCESS_TOKEN_EXPIRE_MINUTES=60
```

---

## ุฎุทูุงุช ุงูุชูุนูู ุนูู Railway ๐

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Railway

1. ุงูุชุญ ููุญุฉ ุงูุชุญูู ูู Railway: https://railway.app/
2. ุงุฎุชุฑ ูุดุฑูุน `qpsrounds-production`
3. ุงููุฑ ุนูู ุฎุฏูุฉ ุงูู Backend
4. ุงุฐูุจ ุฅูู ุชุจููุจ **Variables**
5. ุฃุถู ุฃู ุนุฏูู ุงููุชุบูุฑ ุงูุชุงูู:

```
ACCESS_TOKEN_EXPIRE_MINUTES=60
```

6. ุงุญูุธ ุงูุชุบููุฑุงุช

### ุงูุฎุทูุฉ 2: ุฑูุน ุงูููุฏ ุงููุญุฏุซ ุฅูู GitHub

```bash
# ุชุฃูุฏ ุฃูู ูู ูุฌูุฏ ุงููุดุฑูุน
cd /Users/salehalzaid/Documents/massdeigners/salamah_rounds

# ุฅุถุงูุฉ ุงูุชุบููุฑุงุช
git add backend/auth.py backend/env.production SESSION_TIMEOUT_UPDATE.md

# ุนูู commit
git commit -m "โฑ๏ธ ุชุญุฏูุซ ูุฏุฉ ุตูุงุญูุฉ ุงูุฌูุณุฉ ุฅูู 60 ุฏูููุฉ"

# ุฑูุน ุฅูู GitHub
git push origin main
```

### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ูุดุฑ ุงูุชุทุจูู

Railway ุณูููู ุจุฅุนุงุฏุฉ ุงููุดุฑ ุชููุงุฆูุงู ุนูุฏ ุฑูุน ุงูููุฏ ุฅูู GitHub.

ุฃู ููููู ุฅุนุงุฏุฉ ุงููุดุฑ ูุฏููุงู ูู ููุญุฉ ุงูุชุญูู:
1. ุงุฐูุจ ุฅูู ุชุจููุจ **Deployments**
2. ุงููุฑ ุนูู **Deploy Now**

---

## ุงูุชุญูู ูู ุงูุชุญุฏูุซ โ

ุจุนุฏ ุฅุนุงุฏุฉ ุงููุดุฑุ ูู ุจุงูุฎุทูุงุช ุงูุชุงููุฉ ููุชุฃูุฏ:

1. **ุชุณุฌูู ุงูุฏุฎูู**:
   - ุงุฐูุจ ุฅูู: https://qpsrounds-production.up.railway.app/signin
   - ุณุฌู ุฏุฎูู ุจุญุณุงุจ admin@salamaty.com

2. **ุงูุชุญ Developer Console** (F12 ูู Chrome):
   - ุงุฐูุจ ุฅูู ุชุจููุจ **Application** > **Local Storage**
   - ุงุจุญุซ ุนู `token` ูุงูุณุฎ ูููุชู

3. **ูู ุชุดููุฑ JWT Token** (ุงุฎุชูุงุฑู):
   - ุงุฐูุจ ุฅูู: https://jwt.io/
   - ุงูุตู ุงูุชููู ูู ุงูุญูู
   - ุชุญูู ูู ุญูู `exp` (expiration time) - ูุฌุจ ุฃู ูููู ุจุนุฏ 60 ุฏูููุฉ ูู ููุช `iat` (issued at)

4. **ุงุฎุชุจุงุฑ ุนููู**:
   - ุงุจู ูุณุฌู ุฏุฎูู ูุงุณุชุฎุฏู ุงููุธุงู
   - ุงูุชุธุฑ ุฃูุซุฑ ูู 15 ุฏูููุฉ (ุงูููุช ุงููุฏูู)
   - ูุฌุจ ุฃู ุชุจูู ุงูุฌูุณุฉ ูุดุทุฉ
   - ุจุนุฏ 60 ุฏูููุฉุ ุณุชุธูุฑ ุฑุณุงูุฉ "ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ"

---

## ููุงุญุธุงุช ูููุฉ ๐

### ุงูุฃูุงู
- **ูุฏุฉ 60 ุฏูููุฉ** ููุงุณุจุฉ ูุชุทุจููุงุช ุงูุฃุนูุงู ุงูุฏุงุฎููุฉ
- ุฅุฐุง ุงุญุชุฌุช ูุฏุฉ ุฃุทูู (ูุซู 8 ุณุงุนุงุช ุฃู 24 ุณุงุนุฉ)ุ ููููู ุชุบููุฑ ุงููููุฉ ุฅูู:
  - `480` = 8 ุณุงุนุงุช
  - `1440` = 24 ุณุงุนุฉ

### ูุณุชูุจูุงู: Refresh Token (ูููุตูุญ)
ุฅุฐุง ุฃุฑุฏุช ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู ุฏูู ุงูุญุงุฌุฉ ูุชุณุฌูู ุฏุฎูู ูุชูุฑุฑ:
- ูููู ุฅุถุงูุฉ ูุธุงู **Refresh Token**
- Access Token ูุตูุฑ (15-30 ุฏูููุฉ)
- Refresh Token ุทููู (7-30 ููู)
- ูุชู ุงูุชุฌุฏูุฏ ุชููุงุฆูุงู ูู ุงูุฎูููุฉ

### ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ ุงููุญููุฉ
ุฅุฐุง ููุช ุชุฑูุฏ ุงุฎุชุจุงุฑ ูุญูู:
1. ุฃูุดุฆ ููู `backend/.env` (ุฅุฐุง ูู ููู ููุฌูุฏ)
2. ุฃุถู ุงูุณุทุฑ:
   ```
   ACCESS_TOKEN_EXPIRE_MINUTES=60
   ```

---

## ุญุงูุฉ ุงูุชูููุฐ

- โ ุชู ุชุนุฏูู `backend/auth.py`
- โ ุชู ุชุญุฏูุซ `backend/env.production`
- โณ **ุจุงูุชุธุงุฑ**: ุชุญุฏูุซ ูุชุบูุฑุงุช Railway
- โณ **ุจุงูุชุธุงุฑ**: ุฑูุน ุงูููุฏ ุฅูู GitHub
- โณ **ุจุงูุชุธุงุฑ**: ุฅุนุงุฏุฉ ูุดุฑ ุงูุชุทุจูู

---

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู logs ูู Railway
2. ุชุฃูุฏ ูู ุชุญุฏูุซ ูุชุบูุฑ `ACCESS_TOKEN_EXPIRE_MINUTES`
3. ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ูุดุฑ ุงูุชุทุจูู ุจุนุฏ ุงูุชุญุฏูุซ

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-09
**ุงูุญุงูุฉ**: ุฌุงูุฒ ูููุดุฑ ๐

