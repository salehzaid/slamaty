# ميزات تقدم التقييم الجديدة

## نظرة عامة
تم إضافة ميزات جديدة لنظام تقييم الجولات تسمح بحفظ التقييم بشكل جزئي وتتبع تقدم العمل.

## الميزات المضافة

### 1. تتبع نسبة اكتمال التقييم
- **حقل جديد**: `completion_percentage` في جدول الجولات
- **حساب تلقائي**: يتم حساب النسبة بناءً على عدد العناصر المكتملة
- **عرض بصري**: شريط تقدم يظهر نسبة اكتمال التقييم

### 2. الحفظ الجزئي (مسودة)
- **زر "حفظ مسودة"**: يسمح بحفظ التقييم دون إكمال جميع العناصر
- **API endpoint**: `/rounds/{round_id}/evaluations/draft`
- **حفظ فوري**: يمكن حفظ العمل في أي وقت أثناء التقييم

### 3. إرسال التقرير النهائي
- **زر "إرسال التقرير"**: يظهر فقط عند اكتمال جميع العناصر
- **API endpoint**: `/rounds/{round_id}/evaluations/finalize`
- **تغيير الحالة**: يغير حالة الجولة إلى "مكتملة"

### 4. حماية الجولات المكتملة
- **تعطيل التعديل**: لا يمكن تعديل الجولات المكتملة
- **واجهة مقفلة**: جميع الحقول تصبح غير قابلة للتعديل
- **مؤشر بصري**: شارة تظهر أن الجولة مكتملة

## التحديثات التقنية

### قاعدة البيانات
```sql
-- إضافة حقل نسبة اكتمال التقييم
ALTER TABLE rounds 
ADD COLUMN completion_percentage INTEGER DEFAULT 0;
```

### API Endpoints الجديدة
1. **POST** `/rounds/{round_id}/evaluations/draft` - حفظ مسودة
2. **POST** `/rounds/{round_id}/evaluations/finalize` - إرسال نهائي

### واجهة المستخدم
- شريط تقدم بصري
- أزرار منفصلة للحفظ والإرسال
- تعطيل الحقول عند اكتمال الجولة
- مؤشرات بصرية للحالة

## كيفية الاستخدام

### للمقيمين
1. **بدء التقييم**: اختر الجولة وابدأ في تقييم العناصر
2. **حفظ مسودة**: استخدم زر "حفظ مسودة" لحفظ العمل
3. **متابعة التقدم**: راقب شريط التقدم لمعرفة نسبة الإكمال
4. **إرسال نهائي**: عند اكتمال جميع العناصر، استخدم "إرسال التقرير"

### للمديرين
- **مراقبة التقدم**: يمكن رؤية نسبة اكتمال كل جولة
- **حماية البيانات**: الجولات المكتملة محمية من التعديل
- **تتبع الحالة**: معرفة حالة كل جولة بوضوح

## الفوائد
- **مرونة في العمل**: إمكانية حفظ العمل والعودة إليه لاحقاً
- **تتبع دقيق**: معرفة تقدم كل جولة تقييم
- **حماية البيانات**: منع التعديل غير المرغوب فيه
- **تجربة مستخدم محسنة**: واجهة واضحة وسهلة الاستخدام
